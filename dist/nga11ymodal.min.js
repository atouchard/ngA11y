/*!
* Angular Directives For Accessible Applications
*
* Copyright (C) 2014 Deque Systems Inc., All Rights Reserved
*
* See the project LICENSE file for usage - https://github.com/dequelabs/ngA11y/blob/master/LICENSE
*/
!function(){"use strict";function a(a){for(var b=a[0].querySelectorAll(d),c=[],e=0,f=b.length;f>e;e++){var g=b[e],h=g.getAttribute("aria-hidden");if(!h||"true"!==h.toLowerCase()){var i=g.getAttribute("tabindex");i&&"-1"===i||c.push(b[e])}}return c.length>0?{first:c[0],last:c[c.length-1]}:void 0}var b;try{b=angular.module("ngA11y")}catch(c){b=angular.module("ngA11y",[])}var d="a, input, [tabindex], select, button, textarea, area";b.directive("nga11yModal",["$log",function(){return{link:function(b,c){c.attr("tabindex","-1");var d=c[0].querySelector("[nga11y-modal-closer]");c.on("keydown",function(b){var e=a(c);if(e){if(b.target.isSameNode(e.first)){if(9===b.which&&b.shiftKey)return e.last.focus(),void b.preventDefault()}else if(b.target.isSameNode(e.last)&&9===b.which&&!b.shiftKey)return e.first.focus(),void b.preventDefault();27===b.which&&d&&angular.element(d).triggerHandler("click")}})}}}])}();